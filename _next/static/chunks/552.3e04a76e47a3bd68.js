"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{552:(e,t,s)=>{s.d(t,{parseUsageCsv:()=>i});function i(e){let t=e.split(/\r?\n/),s=[],i=0,n=!1,l=-1,a=-1,r=-1;for(let e=0;e<t.length;e++){let s=t[e].trim();if(!s)continue;let o=s.split(";");if(o.some(e=>e.toLowerCase().includes("time")||e.toLowerCase().includes("usage")||e.toLowerCase().includes("consumption"))){n=!0,i=e+1,o.forEach((e,t)=>{let s=e.toLowerCase();s.includes("timestamp")||s.includes("start")?l=t:s.includes("end")?a=t:(s.includes("usage")||s.includes("consumption"))&&(r=t)}),-1===r&&(r=o.length-1),-1===l&&(l=0);break}}n||(i=0,r=1,l=0);for(let e=i;e<t.length;e++){let i=t[e].trim();if(!i)continue;let n=i.split(";");if(n.length<=Math.max(l,r,a))continue;let o=n[l].trim(),u=parseFloat(n[r].trim().replace(",","."))||0;if(s.length>0){let e=new Date(s[s.length-1].datetime),t=(new Date(o).getTime()-e.getTime())/36e5;if(Math.abs(t-1)>.1)throw Error("Timestamps must be 1 hour apart, found ".concat(t," hours"))}o=o.replace(/[TZ].*$/,""),s.push({datetime:o,usage:u})}return s}}}]);
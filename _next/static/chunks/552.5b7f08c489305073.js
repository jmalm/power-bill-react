"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{552:(e,t,i)=>{i.d(t,{parseUsageCsv:()=>a});function a(e){let t=e.split(/\r?\n/),i=[],a=0,n=!1,o=-1,s=-1,r=-1;for(let e=0;e<t.length;e++){let i=t[e].trim();if(!i)continue;let l=i.split(";");if(l.some(e=>e.toLowerCase().includes("time")||e.toLowerCase().includes("usage")||e.toLowerCase().includes("consumption"))){n=!0,a=e+1,l.forEach((e,t)=>{let i=e.toLowerCase();i.includes("timestamp")||i.includes("start")?o=t:i.includes("end")?s=t:(i.includes("usage")||i.includes("consumption"))&&(r=t)}),-1===r&&(r=l.length-1),-1===o&&(o=0);break}}n||(a=0,r=1,o=0);for(let e=a;e<t.length;e++){let a=t[e].trim();if(!a)continue;let n=a.split(";");if(n.length<=Math.max(o,r,s))continue;let l=new Date(n[o].trim()),d=parseFloat(n[r].trim().replace(",","."))||0;i.push({datetime:l,usage:d})}if(i.length<100)throw Error("Not enough data points. Please provide at least 100 rows of usage data.");if(Math.abs((i[1].datetime.getTime()-i[0].datetime.getTime())/36e5-1)>.01)throw Error("Invalid timestamp interval. Expected 1 hour between data points.");let l=i[0].datetime,d=(i[i.length-1].datetime.getTime()-l.getTime())/864e5;if(d<25||d>35)throw Error("Invalid timestamp range. Expected approximately one month of data. Got ".concat(d.toFixed(0)," days."));return i}}}]);